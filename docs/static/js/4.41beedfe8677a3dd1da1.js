webpackJsonp([4],{"+0tF":function(t,e){},AWoY:function(t,e){},DnUy:function(t,e){},F7UG:function(t,e,a){"use strict";var s={name:"TextBox",mixins:[a("temQ").a],props:["placeholder","classes"],data:function(){return{}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"TextBox",on:{change:this.input}},[e("label",[e("textarea",{class:this.classes,attrs:{name:this.dataKey,cols:"10",rows:"4",placeholder:this.placeholder},domProps:{value:this.inputValue}})])])},staticRenderFns:[]};var n=a("Z0/y")(s,i,!1,function(t){a("DnUy")},"data-v-468c9f4e",null);e.a=n.exports},h6Bq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("/MSx"),i=a("+hoI"),n=a("F7UG"),o=a("w+xh"),r=a("OIM7"),c=a("sOKA"),l=a("nuAC"),u=a("3cXf"),d=a.n(u);var h=function(){return window.fileList=this.fileList,this.fetch.postJsonData("/secondhand/publish/article",{name:this.managerTitle,kind:d()(this.chooseList.chooseValue),detail:this.managerMessage,imgurl:d()(this.fileList),price:parseFloat(this.managerPrice),degree:"未添加崭新度"})},p=a("mi6u"),f=a("c7dQ"),v=a("/qaa"),m=a("zIJf"),x={name:"PublishPage",mixins:[l.a,Object(p.a)(v.a,this),Object(f.a)(v.c),m.a],data:function(){return{title:"发布",managerPrice:"",managerTitle:"",managerMessage:"",fileList:[],chooseList:{chooseValue:[],chooseList:[]}}},components:{HeaderSection:s.a,InputBox:i.a,TextBox:n.a,Upload:o.a,Classification:c.a,LoadImage:r.a},methods:{addFile:function(t){var e=this;v.b.fetchFile(t).then(function(t){console.log(t),e.fileList.push(t)})},deleteImage:function(t){var e=parseInt(t.target.dataset.index);this.fileList=this.fileList.filter(function(t,a){return a!==e})},userPublish:function(){var t=this,e=parseInt(this.managerPrice);isNaN(e)?alert("请在价格框中输入数字"):this.publishGoods().then(function(e){t.$router.push({path:"/second/home-page"})})},publishGoods:h}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PublishPage box-center second-market"},[a("header-section",[a("p",[t._v("发布")])]),t._v(" "),a("load-image",{attrs:{loadState:t.loadState}}),t._v(" "),a("input-box",{staticClass:"input-box box-center",attrs:{type:"text",placeholder:"标题",dataKey:"managerTitle",value:t.managerTitle},on:{userInput:t.updateData}}),t._v(" "),a("input-box",{staticClass:"input-box box-center",attrs:{type:"text",placeholder:"价格",dataKey:"managerPrice",value:t.managerPrice},on:{userInput:t.updateData}}),t._v(" "),a("br"),t._v(" "),a("text-box",{staticClass:"input-box box-center",attrs:{placeholder:"宝贝描述",dataKey:"managerMessage",value:t.managerMessage},on:{userInput:t.updateData}}),t._v(" "),a("div",{staticClass:"file-list input-box box-center"},[t._l(t.fileList,function(e,s){return a("div",{staticClass:"file-item"},[a("div",{staticClass:"add-icon text-center",attrs:{"data-index":s},on:{click:t.deleteImage}},[t._v("+")]),t._v(" "),a("img",{attrs:{src:e,alt:"图片加载失败"}}),t._v(" "),a("div",{staticClass:"file-item-footer text-center"},[t._v(t._s(0===s?"主图":"附图"))])])}),t._v(" "),a("upload",{staticClass:"upload file-item",on:{addFile:t.addFile}})],2),t._v(" "),a("br"),a("br"),t._v(" "),a("div",{staticClass:"clear input-box box-center"},[a("p",{staticStyle:{"font-size":"1rem",color:"#7F7F7F"}},[t._v("分类描述")]),t._v(" "),a("classification",{attrs:{classesList:t.classesList,dataKey:"chooseList",choosed:t.chooseList.chooseList},on:{choose:t.updateData}})],1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"input-box text-center upload-message box-center",on:{click:t.userPublish}},[t._v("\n        确认发布\n    ")])],1)},staticRenderFns:[]};var _=a("Z0/y")(x,b,!1,function(t){a("+0tF")},"data-v-63b98f57",null);e.default=_.exports},"w+xh":function(t,e,a){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Upload"},[e("input",{attrs:{type:"file",name:"file"},on:{change:this.upload}}),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"add-button absolute-center"},[e("div",{staticClass:"add box-center"},[this._v("+")]),this._v(" "),e("p",[this._v("添加")])])}]};var i=a("Z0/y")({name:"Upload",data:function(){return{}},methods:{upload:function(t){this.$emit("addFile",t.target)}}},s,!1,function(t){a("AWoY")},"data-v-4e41c86c",null);e.a=i.exports}});
//# sourceMappingURL=4.41beedfe8677a3dd1da1.js.map