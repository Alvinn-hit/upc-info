webpackJsonp([4],{"79G8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAQfSURBVFhHzZhPKH1BFMeHYuH/n/wJCSVSEhukRCyslI2NhWSjbPxZWCihZEFioZCI7K1QpEcRUSwsFArlX0hICjG/OeeeO3fu8673Hu7z+9Q0Z86dd873zps7M/f6cQH7j/Gn+r/lxyPocDjYwcEBOzw8ZNfX1+iLjY1l6enpLCMjg5WUlKDv24BAb3h+fubt7e1ciIAb86jEx8fzjo4O/vLyQlE8x+MRvLm5YVVVVWx9fZ08BllZWThiISEh2H56esJR3d/fx7ZKaWkpm52dZeHh4eRxA8p0Q0NDg2lEAgMDeXd3N7+4uKAe1pyfn/POzk4eEBBgitHS0kI9vsatwODgYBk0JiaGb2xs0BXvEaPPo6KiTPHcYSnw7e1NBoIyNjZGV37O8PCwKfZXWM5BPz8/shi7u7tjkZGR1Pod4ImPi4ujFqoky4zLdTAiIoIs7Ye/LQ6Apej19ZVajKWmppLlBIygCkx+cEO5vLwkr30cHx/LfKOjo+Q1+CRQ79zV1UUe+2ltbZV5nTF5mpubLTvajZ63v7+fPBomJXqnvr4+8vgO2GkgNyxDKlLgycmJFPgXPDw8yPwfHx/k5Vw+xUtLS1iLhRlrZ+bn59nQ0BC1XDMxMcEmJyep5RqIsbCwQC2DsLAwshhbXFwkS0BCeVNTE6oXeyV5DBobG+XdKT8xkZCQIK+npKSQ14waw9VWl5eXh9fETZBHGUF9TVLvREes/GRpjI+Pk6Uh9lsm9mVqMSamizx66YyMjJClMTAwQJaBuEmsz87OsAakwNDQUKzFFoe1in5K0cnOziZLIzExkSwDWIhVcnJyyNJwNRDiOIa1v7+xf0grKSkJ66OjI6xVxGLKxMaOdk9PD8vPz0dbZXl5mSzGVlZWyDIoLCxkYm1FG7Y4GGVn9NzJyclYI/RX862tLTk//go9//b2Nnks1kG1g69YXV2V+VVMreLiYuxQXl5OHt9RUFCAucvKysijYRK4s7Mj70Ic8clrP6enpzIvaFD5NOHS0tKwY3R0NHnsJygoCHNmZmaSx+CTwMfHR3k3NTU15LWPyspKmQ9O8c58EgjAuUz/EewwdlFXVyfzzMzMkNeMS4GAur1VVFSQ9/coKiqS8eE92wpLgUBbW5sMAuU7L97OiAXdFLO3t5euuOZLgcDc3JwMBkey7wJxnL9GrK2t0VVr3AoE9IBXV1fkMRBbH3c4HFy8+ZGHo725uckHBwfxdKSKguLNlPFK4O3tLXk4n5qaMiX1pFRXV/P7+3uK4BleCQQggdjsTYmtiniVxIcNRvi7eCWwvr7eJKC2tpZ6aLy/v2P5TTz6uqV+ZQDguLS3tyePYHZinAw9ZHp6momHxSfiEBxHN0A3mOB/gUd/8e7uLsvNzaWWb/nxN2q78XoO+hbG/gG7vREOgYF1RwAAAABJRU5ErkJggg=="},PgWK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAANeSURBVFhH7ZjLS1RRHMd/oz3sMWllUKnoSChJYSaElLQwahMEPWhRZO3rD8hFm4hWEVGrFkEFtQiCoE2EQg8ISqhNZRCUNSaG0vSQzF72/d57rs3cufeec++8hPrAOXN+93W+53d+5zWxKSAzmDL1O2P5dwTe/SgSu4PUK3LijbqYB/ISgzfHRHY8RGEeUgxpUqS7XuTSat7NjZwF8u2yWyhUIFGcw4RIb4fIlsXKjkjOAmseiAxDjJTb9jT86g/8bLPNqOQUg8deQ9w4Cm5xhN7E9ZZHthmVyAJvjGIwvEBhjm17AoEDGDz7nys7ApEEXh4R2dmPAuNOBxpwNSmy+5myQxI6Bvc8Fbk+hMJcpPRBoQPxuHKByLuNyjbE2INX3kNPH8TBe1kj1oTZ9mCKYcT3vFLXDAj04JMv6E4IOzMI4zcSKgktzA1r+4mE7+2qETmM1BUwFWUJnPglsm8Ag2AYBu9whDLlKswNv81Goz6mdctELjSLrI/z5l8yBD6Gx9rvo8CRWQhRfjhisQIdb8H01WBdtcgQGL8nMk73522FDgmVfMXPdtskGVImp6WWCPaYq9cyBB5BwFoxUSpQd3O1KiuyBgm3S5bsYnczVXwTSW0VqZplXyJZMt52IkOwWi8UE9R5bm2mOJIlsA6T8PlWFL7bdlHAwOxajhCrVXYavhN1EzagL/12KvmEtUPgFLrWC99I629HRi8WuquxRl9co8oe+AqsRCxshtutCbRQsPHooYMrbNOLwLF6shFZIacdfLsnoco+BArcVImMrSxUN0PgIfZSAIECSesSZKYCwzRENbxpvm36oRW4YREykzhkhVymQjQmUaXKAWgFNnBzalKpI850B4Rnl3J/qUErsI5be1NMxSmq8yEwxe2XDtNudfHZ4NtagUNcl3WeCek5C7zzAZO0Dq3ACj5h4iE+w8HkJN07uF+urd1AYNtCZF6V8Rq7iMsh//qARxKYMhqR4owtbJ2sXRG95DUL4P0OzhAafDcL6cRuI2NT2JV8mqsLzi1H60X24rDT5jroOCQh8tqoyCkc3Ec+4QK3Uo5L0KgkNgi1mkFoJJAnvQM46Q3CI51odTdmf/fpS8cYPHkWB/6+lB02p1dhEWDvaDASWEoMwrS0/BeYGyJ/ALrU8MGPCyonAAAAAElFTkSuQmCC"},VkIE:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAPGSURBVFhH7ZhLKH9BFMfn96NkIY+URB55KwuJorw2ysJGohSxwEJWniuFjZ2SWIhYEGWjLCRlYWNjQ8prQxYKKSyImv+ccWbMuPf+7nXv/cni/6nTPffMmXO/vzEzd64AZZA/TBCvfxbfBH58fJDh4WEyMjKCEX/w7U8cCATQ+8SvmePLCNbU1KD3RV9fH3oegRH0wunpKQwVt7S0NNrf3y/v39/fMcs9ngXGx8dLQcfHxzwm7svLy/m9FzwJXF1dlWJKS0sxSunU1JSMHx0dYdQdnhaJujBeX19JVFQU3n21xcTEkKenJ+67wfUiGRgYQI+Qrq4uTRywt7fHr8/Pz2R5eZn7bnA9guroWZXIyckhl5eX3Hf7h3I1glVVVegRMjs7i56Rg4MD9Ajp6elB74fACIbi5uaGLi0t0fb2dpqSksInvrBgMIhZ1jQ1NWl9srKyaHd3N11fX6cPDw+YZY1B4MbGBu3t7aUFBQVaYTM7Pz/HXqEx66tacXExZXOabm1tYY8vpMDNzU3TzqrBiNXV1dGJiQn68vKCPZ0xMzNDm5ubaWJiomlt1a6urrCXItAssba2lo6Pj9P9/X3M8g/Y1Kenp2ljYyONjY3VnpuamopZyj7oZFWGm4yMDMJGj/tCg1zFLS0t6BESHR2N3u9RX18vxXV0dPArB0ZQkJ2dLYc5KSkJo+Gns7NTPjczMxOjn2gCgYSEBJkMKzncjI6OyufBXPyOQSDA5qPsBAslXMzPz8vngJlhHmWoHVtbWzHqH7Dnqc+wwrKFfWNoBQYHB7HFO4eHh1rtt7c3bDFiLZ1xd3enFVpbW8MW9zw+Pmo1b29vscWckAKBi4sLWSw/Px+j7hkaGpL1Tk5OMGqN7WmGbT3oEcJWOHruYa869AgpLCxEzxpbgWwE0XNW0A62daHnDFuB7MSCHiG5ubnouScvLw89Qq6vr9Gzxlbg2dkZenpxt8ApW6D+eCt+XaCKWtsK3wSyvY00NDTwl/729jZGzYmLi+NXJwJtt5nk5GS5LZjBxPCDhcgRFhERQRcXFzFLp6ysjOfA4dcOW4Higez7FiOfwHcKiBDtYJGRkdq9MDj0qrS1tfE4O/9hxBrHAqurq/n95OSkjAlj38R0ZWWFtwNjY2OGHDD2/czb5+bmZMyOkBnwjhSF0tPTpS8Mjua7u7uYbWRhYcEwymDqB5kdthlsQmvFwUpKShy9pgQ7OzuGT1awoqIizLDG/icwKioq+PxiK5Te399j9OfAj4JaIK6yshKjofn/T3Sv/HGBhPwDrBt5tFx/j2sAAAAASUVORK5CYII="},VzVh:function(e,t,a){"use strict";function s(e){return console.log(e),{userData:{userHeader:e.ybhead,userId:e.userid,userName:e.ybname},managerData:{id:e.id,managerPrice:e.price,createTime:e.createtime,updateTime:e.updatetime,imgUrl:JSON.parse(e.imgurl),managerDetail:e.detail,collections:e.collections,reviews:e.reviews,name:e.name,isDeal:e.isdeal}}}a.d(t,"a",function(){return s}),t.b=function(e){var t=this;return this.fetch.getJsonData("/secondhand/browse/article",{page:e,pagesize:10}).then(function(e){var a=e.content;return{managerList:a=a.map(s.bind(t)),pageData:function(e){var t=e.last,a=e.first,s=e.totalElements,n=e.totalPages,i=e.sort,r=e.numberOfElements,c=e.size;return{last:t,first:a,totalElements:s,totalPages:n,sort:i,number:e.number,numberOfElements:r,size:c}}(e)}})}},W1nu:function(e,t){},c0BK:function(e,t){},oICQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("//Fk"),n=a.n(s),i=a("/MSx"),r=a("vAZX"),c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ReplyList box-center"},[t("p",{staticClass:"header"},[this._v("留言")]),this._v(" "),t("hr",{staticStyle:{border:"1px solid #EBEBEB","border-bottom":"none"}})])}]};var o=a("VU/8")({name:"ReplyBox",data:function(){return{replyList:[]}},created:function(){},components:{}},c,!1,function(e){a("c0BK")},"data-v-1f06ba82",null).exports,l=a("nuAC"),u=a("/qaa"),d=a("mi6u"),A=a("c7dQ"),h=a("VzVh");var m=function(e){return this.fetch.getJsonData("/secondhand/browse/onearticle",{articleid:e}).then(function(e){return 0===e.code?e:Object(h.a)(e)})};var f=function(e,t){return t.fetch.postJsonData("/secondhand/collention/createcollection",{articleid:e}).then(function(e){return!e.id})},g={articleId:"articleId",createTime:"createtime",isDelete:"isdelete",updateTime:"updatetime",ybHeader:"ybhead",ybId:"ybid",ybName:"ybname"};var v=function(e,t,a){return a.fetch.postJsonData("/secondhand/publish/review",{articleid:e,detail:t}).then(function(e){for(var t in g){var a=g[t];e[t]=e[a]}return console.log(e),e})},D=a("hrn7"),b={data:function(){return{userData:{}}},created:function(){var e=this;D.a.haveLocalUserData()?this.userData=D.a.getLocalUserData():D.a.fetchUserData().then(function(t){e.userData=t})}};var p=function(e,t){return t.fetch.getJsonData("/secondhand/browse/review",{articleid:e}).then(function(e){return e.map(function(e){return{ybHeader:e.ybhead,articleId:e.articleId,detail:e.detail,id:e.id,isDelete:e.isdelete,ybId:e.ybid,ybName:e.ybname,createTime:e.createtime,updateTime:e.updatetime}})})},w={name:"Details",mixins:[l.a,Object(d.a)(u.a),Object(A.a)(u.c),b],data:function(){return{managerData:{},title:"该商品已被删除",managerUserData:[],managerList:[],color:"#004073",collectionOn:a("PgWK"),collectionOff:a("VkIE"),discuss:a("79G8"),showDiscuss:!1,discussDetail:"",discussList:[],isCollected:!1}},created:function(){var e=this;this.routeUpdate(parseInt(this.$route.params.articleId)).then(function(){e.fetch.getTextData("/secondhand/collention/iscollection",{articleid:e.$route.params.articleId}).then(function(t){e.isCollected="true"===t})}),this.fetchDiscussList()},watch:{$route:function(e,t){this.routeUpdate(parseInt(e.params.articleId))}},components:{HeaderSection:i.a,ManagerHeader:r.a,ReplyBox:o},methods:{routeUpdate:function(e){var t=this,a=this.getLocalData(e);return null===a?this.fetchWithSave(e):new n.a(function(e){t.managerData=a.managerData,t.managerUserData=a.managerUserData,e()})},fetchWithSave:function(e){var t=this;return this.findManagerById(e).then(function(e){0!==e.code?(t.managerData=e.managerData,t.managerUserData=e.userData,t.managerList.push({managerData:t.managerData,managerUserData:t.managerUserData}),t.title=t.managerData.name):t.title="该商品已被删除"})},getLocalData:function(e){for(var t=0;t<this.managerList.length;t++){var a=this.managerList[t];if(a.managerData.id===e)return a}return null},addCollection:function(){var e=this;f(this.$route.params.articleId,this).then(function(t){!1===t?(e.isCollected=!0,alert("收藏成功")):alert("请勿重新收藏")})},addDiscuss:function(){var e=this;v(this.$route.params.articleId,this.discussDetail,this).then(function(t){e.discussList.unshift(t),e.changeDiscuss()})},changeDiscuss:function(){this.showDiscuss=!this.showDiscuss},fetchDiscussList:function(){var e=this;p(this.$route.params.articleId,this).then(function(t){e.discussList=t})},showUserCenter:function(){console.log(123)},findManagerById:m}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Details second-market box-center"},[a("header-section",[a("p",[e._v(e._s(e.title))])]),e._v(" "),a("div",{staticClass:"body box-center"},[a("manager-header",{attrs:{userData:e.managerUserData,managerPrice:e.managerData.managerPrice}}),e._v(" "),a("hr",{staticStyle:{border:"1px solid #EBEBEB","border-bottom":"none"}}),e._v(" "),a("p",{staticClass:"banner"},[e._v(e._s(e.managerData.managerDetail))]),e._v(" "),e._l(e.managerData.imgUrl,function(e){return a("div",{staticClass:"banner"},[a("img",{staticClass:"descimg box-center",attrs:{src:e,alt:"图片加载失败"}})])})],2),e._v(" "),a("reply-box",{staticClass:"second-market"}),e._v(" "),e._l(e.discussList,function(t){return a("div",{staticClass:"discuss-list box-center second-market"},[a("img",{attrs:{src:t.ybHeader,alt:"图片加载失败"}}),e._v(" "),a("div",[a("router-link",{attrs:{to:"/second/my/"+t.ybId}},[e._v(e._s(t.ybName))]),e._v(" "),a("p",[e._v(e._s(t.detail))]),e._v(" "),a("hr",{staticStyle:{border:"1px solid #EBEBEB","border-bottom":"none","text-align":"right"}})],1)])}),e._v(" "),a("div",{staticStyle:{height:"8rem"}}),e._v(" "),e.showDiscuss?a("div",{staticClass:"footer box-center second-market"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.discussDetail,expression:"discussDetail"}],attrs:{type:"text"},domProps:{value:e.discussDetail},on:{key:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addDiscuss(t):null},input:function(t){t.target.composing||(e.discussDetail=t.target.value)}}}),e._v(" "),a("button",{on:{click:e.addDiscuss}},[e._v("提交")])])]):e._e(),e._v(" "),e.showDiscuss?e._e():a("div",{staticClass:"footer clear second-market box-center"},[a("ul",[e.isCollected?e._e():a("li",{staticClass:"float-left",on:{click:e.addCollection}},[a("img",{attrs:{src:e.collectionOff,alt:"图片加载失败"}}),e._v(" 收藏\n            ")]),e._v(" "),e.isCollected?a("li",{staticClass:"float-left",on:{click:e.addCollection}},[a("img",{attrs:{src:e.collectionOn,alt:"图片加载失败"}}),e._v(" 收藏\n            ")]):e._e(),e._v(" "),a("li",{staticClass:"float-left",on:{click:e.changeDiscuss}},[a("img",{attrs:{src:e.discuss,alt:"图片加载失败"}}),e._v(" 评论")]),e._v(" "),a("li",{staticClass:"float-left text-center"},[a("router-link",{attrs:{to:"/second/user-center"}},[a("button",{on:{click:e.showUserCenter}},[e._v("我想要")])])],1)])])],2)},staticRenderFns:[]};var x=a("VU/8")(w,C,!1,function(e){a("W1nu")},"data-v-775c56c8",null);t.default=x.exports},vAZX:function(e,t,a){"use strict";var s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserBox"},[a("ul",{staticClass:"clear"},[a("li",[a("img",{attrs:{src:e.userData.userHeader}})]),e._v(" "),a("li",{staticClass:"second"},[a("span",[e._v(e._s(e.userData.userName))])]),e._v(" "),a("li",[a("p",[e._v("￥"+e._s(e.managerPrice))])])])])},staticRenderFns:[]};var n=a("VU/8")({name:"ManagerHeader",props:["userData","managerPrice"],data:function(){return{}}},s,!1,function(e){a("xufK")},null,null);t.a=n.exports},xufK:function(e,t){}});
//# sourceMappingURL=4.c8553af7bc136e690e93.js.map