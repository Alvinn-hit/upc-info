{"version":3,"sources":["webpack:///src/components/SecondaryMarket/common-component/HeaderSection.vue","webpack:///./src/components/SecondaryMarket/common-component/HeaderSection.vue?cfba","webpack:///./src/components/SecondaryMarket/common-component/HeaderSection.vue","webpack:///./src/common/createFetchWithAuth.js","webpack:///./src/common/UploadFile.js","webpack:///./src/components/SecondaryMarket/config/fetchUtil.js","webpack:///./src/components/SecondaryMarket/config/index.js","webpack:///./src/components/SecondaryMarket/media/loading.gif","webpack:///./src/common/mixins/fetchVq.js","webpack:///./src/config/config.js","webpack:///./src/common/util/Token.js","webpack:///./src/common/util/getRequest.js","webpack:///./src/common/util/getYibanData.js","webpack:///./src/common/util/HttpRequest.js","webpack:///./src/common/mixins/loading.js","webpack:///./src/common/mixins/UpdateData.js"],"names":["common_component_HeaderSection","render","_h","this","$createElement","_self","_c","staticClass","_t","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","common_createFetchWithAuth","backEndUrl","vqUrl","appName","device","backUrlHash","location","httpRequest","HttpRequest","yibanAuth","getYibanData","window","console","log","localStorage","backUrl","origin","pathname","common_UploadFile","UploadFile","filePrefix","uploadUrl","classCallCheck_default","undefined","fileElement","type","iframeDocument","_this","form","document","createElement","appendChild","cloneNode","formData","FormData","postTextData","then","filePath","data","postJsonData","fetchUtil","marketFetch","fetchUtil_yibanAuth","upload","uploadFile","module","exports","p","title","watch","querySelector","innerHTML","created","fetchVq","commonUrl","yibanIdKey","vqKey","util_Token","Token","vq","fd","append","fetch","method","body","token","json","sessionStorage","getRequest","theRequest","strList","href","split","i","length","getYibanData_YibanAuth","YibanAuth","fetchVqBefore","config","haveVq","getVq","verifyVq","urlVq","getVqByUrl","setVq","response","code","fetchTokenByText","locationUrl","includes","paramList","yibanId","history","pushState","getYibanData_UserData","userData","JSON","parse","valueMap","exp","money","schoolId","schoolName","sex","userName","userNick","getJsonData","key","stringify_default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","_initialiseProps","call","addFetchListen","r","toString","event","_fetchBefore","push","_fetchAfter","_fetchError","index","indexOf","splice","url","_this2","__WEBPACK_IMPORTED_MODULE_3__getYibanData__","haveLocalToken","refreshToken","_fetchWithListener","_this3","fetchData","toUpperCase","_getData","bind","_postData","forEach","item","catch","hasOwnProperty","getLocalToken","status","_this4","_fetchCheckToken","checkJsonData","text","_this5","__WEBPACK_IMPORTED_MODULE_2__config_config__","loadState","methods","showLoading","hiddenLoading","beforeDestroy","removeFetchListen","updateData","e","value"],"mappings":"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","file":"static/js/0.a1d20a288c2be9f3ad81.js","sourcesContent":["<template>\r\n    <div class=\"header\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'HeaderSection',\r\n        data () {\r\n            return {\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .header {\r\n        background-color: #189FD9;\r\n        text-align: center;\r\n        height: 80px;\r\n        line-height: 80px;\r\n        color: #FFF;\r\n        font-size: 1.5rem;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/SecondaryMarket/common-component/HeaderSection.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-086d8dbf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SecondaryMarket/common-component/HeaderSection.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-086d8dbf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HeaderSection.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./HeaderSection.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./HeaderSection.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-086d8dbf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./HeaderSection.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-086d8dbf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SecondaryMarket/common-component/HeaderSection.vue\n// module id = null\n// module chunks = ","/**\r\n * 创建一个拥有httpRequest和yibanAuth的对象\r\n */\r\nimport HttpRequest from './util/HttpRequest'\r\nimport {YibanAuth} from './util/getYibanData'\r\n\r\nfunction createFetchWithAuth (backEndUrl, vqUrl, appName, device, backUrlHash) {\r\n    const httpRequest = new HttpRequest(backEndUrl)\r\n    const fetchVqBefore = () => {\r\n        const location = window.location\r\n        console.log('backUrl', backUrlHash)\r\n        window.localStorage.backUrl = location.origin + location.pathname + backUrlHash\r\n    }\r\n    const yibanAuth = new YibanAuth(vqUrl, new HttpRequest(backEndUrl), appName, device, fetchVqBefore())\r\n    httpRequest.yibanAuth = yibanAuth\r\n    return {\r\n        httpRequest,\r\n        yibanAuth\r\n    }\r\n}\r\n\r\nexport default createFetchWithAuth\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/createFetchWithAuth.js","\r\n/**\r\n * 上传文件是没有加载中动态图功能的API\r\n */\r\nclass UploadFile {\r\n    uploadUrl = '/upload/file'\r\n    httpRequest\r\n    filePrefix = 'http://yb.upc.edu.cn'\r\n\r\n    constructor (httpRequest, filePrefix, uploadUrl) {\r\n        this.httpRequest = httpRequest\r\n        filePrefix && (this.filePrefix = filePrefix)\r\n        this.uploadUrl = (uploadUrl !== null && uploadUrl !== undefined)\r\n            ? uploadUrl : this.uploadUrl\r\n    }\r\n\r\n    /**\r\n     * @author 雷诺\r\n     * @param fileElement 当前input的element DOM元素\r\n     * @param type 远程接口返回值的格式，只支持 json text\r\n     * @param iframeDocument 标定document，如果要兼容ie createElement有iframe的兼容问题，\r\n     *                          具体百度，自然知道这个参数是啥\r\n     */\r\n    fetchFile (fileElement, type, iframeDocument) {\r\n        iframeDocument = (iframeDocument !== null && iframeDocument !== undefined)\r\n            ? iframeDocument : document\r\n        let form = iframeDocument.createElement('form')\r\n        form.appendChild(fileElement.cloneNode())\r\n        let formData = new FormData(form)\r\n        if (type === 'text') {\r\n            return this.httpRequest.postTextData(this.uploadUrl, formData)\r\n                .then(filePath => {\r\n                    return `${this.filePrefix}/${filePath.data}`\r\n                })\r\n        } else {\r\n            return this.httpRequest.postJsonData(this.uploadUrl, formData)\r\n                .then(filePath => {\r\n                    return `${this.filePrefix}/${filePath.data}`\r\n                })\r\n        }\r\n    }\r\n}\r\nexport default UploadFile\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/UploadFile.js","import createFetchWithAuth from '../../../common/createFetchWithAuth'\r\nimport {appName, device, vqUrl} from './index'\r\nimport UploadFile from '../../../common/UploadFile'\r\nimport HttpRequest from '../../../common/util/HttpRequest'\r\n\r\nconst backEndUrl = 'http://yb.upc.edu.cn:8084'\r\n// const devBackEndUrl = 'http://172.18.136.63:8085'\r\nconst devBackEndUrl = 'http://yb.upc.edu.cn:8084'\r\n// const devBackEndUrl = 'http://yb.upc.edu.cn:8084'\r\nconst backUrl = '#/second/home-page'\r\nconst fetchUtil = createFetchWithAuth(backEndUrl, vqUrl, appName, device, backUrl)\r\n\r\nconst filePrefix = 'http://yb.upc.edu.cn'\r\nconst marketFetch = fetchUtil.httpRequest\r\nconst yibanAuth = fetchUtil.yibanAuth\r\n\r\nconst upload = new HttpRequest(devBackEndUrl)\r\nupload.yibanAuth = yibanAuth\r\n\r\nconst uploadFile = new UploadFile(upload, filePrefix)\r\n\r\nexport {marketFetch, yibanAuth, uploadFile}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SecondaryMarket/config/fetchUtil.js","const appId = 'ee3cf6b53f16b07f'\r\nconst backUrl = 'http://f.yiban.cn/iapp218463'\r\n\r\nconst vqUrl = `https://openapi.yiban.cn/oauth/authorize?client_id=${appId}&redirect_uri=${backUrl}`\r\nconst appName = 'second'\r\nconst device = 'mobile'\r\nexport {appName, vqUrl, device}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/SecondaryMarket/config/index.js","module.exports = __webpack_public_path__ + \"static/img/loading.e450664.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SecondaryMarket/media/loading.gif\n// module id = IaMB\n// module chunks = 0","function fetchVq (yibanAuth) {\r\n    return {\r\n        data () {\r\n            return {\r\n                title: '没有设置title,请详细阅读代码文档',\r\n                yibanAuth: yibanAuth\r\n            }\r\n        },\r\n        watch: {\r\n            title (title) {\r\n                document.querySelector('title').innerHTML = title\r\n            }\r\n        },\r\n        created () {\r\n            this.yibanAuth && this.yibanAuth.fetchVq()\r\n            document.querySelector('title').innerHTML = this.title\r\n        }\r\n    }\r\n}\r\nexport default fetchVq\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/mixins/fetchVq.js","const commonUrl = 'http://yb.upc.edu.cn:8084/'\r\n/**\r\n * @namespace window.sessionStorage.vq\r\n */\r\nconst yibanIdKey = 'yb_uid'\r\nconst vqKey = 'verify_request'\r\n/**\r\n * stateKey是获取vq时候的第三个可选参数，本项目中依靠该参数实现准确的项目重定向\r\n * 易班在返回vq的时候只能返回特定的页面，这不符合我们的需求\r\n * @type {string}\r\n */\r\nconst stateKey = 'state'\r\n\r\nexport {commonUrl, yibanIdKey, vqKey, stateKey}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/config.js","class Token {\r\n    httpRequest\r\n    constructor (httpRequest) {\r\n        this.httpRequest = httpRequest\r\n    }\r\n    fetchTokenByText (appName, device, vq) {\r\n        const fd = new FormData()\r\n        fd.append('appName', appName)\r\n        fd.append('vq', vq)\r\n        fd.append('device', device)\r\n        /**\r\n         * @namespace fetch\r\n         */\r\n        return fetch(this.httpRequest.commonUrl + '/auth', {\r\n            method: 'POST',\r\n            body: fd\r\n        }).then(token => {\r\n            return token.json()\r\n        }).then(json => {\r\n            window.sessionStorage.token = json.token\r\n            return json.token\r\n        })\r\n    }\r\n}\r\n\r\nexport default Token\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/Token.js","function getRequestParamList () {\r\n    let url = window.location.href.split('?')[1]\r\n    let theRequest = {}\r\n    const strList = url.split('&')\r\n    console.log(strList)\r\n    for (let i = 0; i < strList.length; i++) {\r\n        theRequest[strList[i].split('=')[0]] = (strList[i].split('=')[1])\r\n    }\r\n    return theRequest\r\n}\r\nexport default getRequestParamList\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/getRequest.js","import Token from './Token'\r\nimport getRequestParamList from './getRequest'\r\nimport HttpRequest from './HttpRequest'\r\nimport {commonUrl,vqKey, yibanIdKey} from '../../config/config'\r\n\r\nclass YibanAuth {\r\n    vqUrl\r\n    httpRequest\r\n    appName\r\n    device\r\n    yibanIdKey = yibanIdKey\r\n    vqKey = vqKey\r\n    fetchVqBefore\r\n\r\n    /**\r\n     * 获取易班vq以及获取token的方式\r\n     * @param vqUrl 参考二手市场SecondaryMarket/config/index.js的手法完成vqUrl的填写\r\n     * @param httpRequest 当前轻应用所使用的HttpRequest工具类实体\r\n     * @param appName 当前轻应用的名称\r\n     * @param device 当前设备\r\n     * @param fetchVqBefore 获取VQ前的准备工作\r\n     */\r\n    constructor (vqUrl, httpRequest, appName, device, fetchVqBefore) {\r\n        this.vqUrl = vqUrl\r\n        this.httpRequest = httpRequest\r\n        this.appName = appName\r\n        this.device = device\r\n        this.fetchVqBefore = fetchVqBefore\r\n    }\r\n\r\n    fetchVq () {\r\n        this.fetchVqBefore && this.fetchVqBefore()\r\n        if (this.haveVq() === false) {\r\n            /**\r\n             * @namespace window.localStorage.backUrl\r\n             * @type {string}\r\n             */\r\n            window.localStorage.backUrl = window.location.href\r\n            window.location = this.vqUrl\r\n        }\r\n    }\r\n    haveVq () {\r\n        const vq = this.getVq()\r\n        this.verifyVq(vq)\r\n        return vq !== null && vq !== undefined \r\n    }\r\n\r\n    getVq () {\r\n        const urlVq = this.getVqByUrl()\r\n        if (urlVq !== null && urlVq !== undefined) {\r\n            this.setVq(urlVq)\r\n            return urlVq\r\n        }\r\n        return window.sessionStorage.vq\r\n    }\r\n\r\n    verifyVq (vq) {\r\n        const verifyUrl = '/auth'\r\n        this.httpRequest.postJsonData(verifyUrl, {appName: this.appName,device: this.device,vq: this.getVq()})\r\n            .then(response => {\r\n                if(response.code === 2){\r\n                    this.setVq()\r\n                    window.location = this.vqUrl\r\n                    return false\r\n                }\r\n                else return true\r\n            })\r\n    }\r\n\r\n    setVq (vq) {\r\n        window.sessionStorage.vq = vq\r\n    }\r\n\r\n    refreshToken () {\r\n        const tokenUtil = new Token(this.httpRequest)\r\n        return tokenUtil.fetchTokenByText(this.appName, this.device, this.getVq())\r\n    }\r\n    getVqByUrl () {\r\n        const locationUrl = window.location.href\r\n        if (!locationUrl.includes('?') &&\r\n            !locationUrl.includes('=') &&\r\n            !locationUrl.includes(this.vqKey)) {\r\n            return null\r\n        }\r\n        /**\r\n         * @namespace window.sessionStorage.yibanId\r\n         */\r\n        const paramList = getRequestParamList()\r\n        console.log(paramList)\r\n        window.sessionStorage.yibanId = paramList[yibanIdKey]\r\n        window.sessionStorage.vq = paramList[vqKey]\r\n        window.history.pushState({}, '', window.localStorage.backUrl)\r\n        return paramList[vqKey]\r\n    }\r\n}\r\n\r\nclass UserData {\r\n    static haveLocalToken () {\r\n        let token = window.sessionStorage.token\r\n        return token !== null && token !== undefined && token !== 'null' && token !== 'undefined'\r\n    }\r\n\r\n    static getLocalToken () {\r\n        return window.sessionStorage.token\r\n    }\r\n\r\n    static haveLocalUserData () {\r\n        let userData = window.sessionStorage.userData\r\n        return userData !== null && userData !== undefined && userData !== 'null' && userData !== 'undefined'\r\n    }\r\n\r\n    static getLocalUserData () {\r\n        return JSON.parse(window.sessionStorage.userData)\r\n    }\r\n\r\n    static fetchUserData () {\r\n        const valueMap = {\r\n            yibanId: 'yb_userid',\r\n            exp: 'yb_exp',\r\n            money: 'yb_money',\r\n            schoolId: 'yb_schoolid',\r\n            schoolName: 'yb_schoolname',\r\n            sex: 'yb_sex',\r\n            userName: 'yb_username',\r\n            userNick: 'yb_usernick'\r\n        }\r\n        return new HttpRequest('http://yb.upc.edu.cn:8084')\r\n            .getJsonData('/leinuo/weekcp/user/getYiMeByToken')\r\n            .then(json => {\r\n                let userData = JSON.parse(json.data)\r\n                for (let key in valueMap) {\r\n                    userData[key] = userData[valueMap[key]]\r\n                }\r\n                window.sessionStorage.userData = JSON.stringify(userData)\r\n                return userData\r\n            })\r\n    }\r\n}\r\n\r\nexport {UserData, YibanAuth}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/getYibanData.js","import {commonUrl} from '../../config/config'\r\nimport {UserData} from './getYibanData'\r\n\r\nclass HttpRequest {\r\n    commonUrl = commonUrl\r\n    yibanAuth\r\n    _fetchBefore = []\r\n    _fetchAfter = []\r\n    _fetchError = []\r\n\r\n    /**\r\n     * @param commonUrl string 后端地址\r\n     */\r\n    constructor (commonUrl) {\r\n        this.commonUrl = (commonUrl !== null && commonUrl !== undefined)\r\n            ? commonUrl : this.commonUrl\r\n        this.addFetchListen('error', (r) => {\r\n            window.r = r\r\n            if (r.toString() === 'TypeError: Failed to fetch') {\r\n                if (this.yibanAuth && this.yibanAuth.haveVq()) {\r\n                    console.log('请检查网络连接')\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    addFetchListen (type, event) {\r\n        if (type === 'before') {\r\n            this._fetchBefore.push(event)\r\n        } else if (type === 'after') {\r\n            this._fetchAfter.push(event)\r\n        } else {\r\n            this._fetchError.push(event)\r\n        }\r\n    }\r\n\r\n    removeFetchListen (type, event) {\r\n        let index\r\n        if (type === 'before') {\r\n            index = this._fetchBefore.indexOf(event)\r\n            index !== -1 && this._fetchBefore.splice(index, 1)\r\n        } else if (type === 'after') {\r\n            index = this._fetchAfter.indexOf(event)\r\n            index !== -1 && this._fetchAfter.splice(index, 1)\r\n        } else {\r\n            index = this._fetchError.indexOf(event)\r\n            index !== -1 && this._fetchError.splice(index, 1)\r\n        }\r\n    }\r\n\r\n    _fetchCheckToken (method, url, body) {\r\n        if (!UserData.haveLocalToken() && this.yibanAuth) {\r\n            return this.yibanAuth.refreshToken().then(() => {\r\n                return this._fetchWithListener(method, url, body)\r\n            })\r\n        } else {\r\n            return this._fetchWithListener(method, url, body)\r\n        }\r\n    }\r\n\r\n    _fetchWithListener (method, url, body) {\r\n        let fetchData\r\n        if (method.toUpperCase() === 'GET') {\r\n            fetchData = this._getData.bind(this)\r\n        } else if (method.toUpperCase() === 'POST') {\r\n            fetchData = this._postData.bind(this)\r\n        } else {\r\n            return console.log('不支持提交put与delete方法')\r\n        }\r\n        this._fetchBefore && this._fetchBefore.forEach(item => item(url, body))\r\n        return fetchData(url, body)\r\n            .catch(r => {\r\n                console.log(r.toString())\r\n                return this._fetchError && this._fetchError.forEach(item => item(r))\r\n            }).then(data => {\r\n                this._fetchAfter && this._fetchAfter.forEach(item => item(data))\r\n                return data\r\n            })\r\n    }\r\n    /**\r\n     * @namespace fetch\r\n     * @param url 链接\r\n     * @param body 对象形式传入参数列表\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n\r\n    _getData (url, body) {\r\n        url += '?'\r\n        for (let key in body) {\r\n            if (body.hasOwnProperty(key)) {\r\n                url += key + '=' + body[key] + '&'\r\n            }\r\n        }\r\n        url += `Authorization=${UserData.getLocalToken()}`\r\n        url = this.commonUrl + url\r\n        console.log('get method', url)\r\n        return fetch(url, {\r\n            method: 'get'\r\n            // 后端跨域不允许携带cookie？等到后端支持跨域携带cookie以后取消掉改注释\r\n            // credentials: \"include\"\r\n        })\r\n    }\r\n\r\n    _postData (url, body) {\r\n        url += '?Authorization=' + UserData.getLocalToken()\r\n        let fd = new FormData()\r\n        if (body instanceof FormData) {\r\n            fd = body\r\n        } else {\r\n            for (let key in body) {\r\n                if (body.hasOwnProperty(key)) {\r\n                    fd.append(key, body[key])\r\n                }\r\n            }\r\n        }\r\n        console.log('POST method', this.commonUrl + url, body)\r\n        return fetch(this.commonUrl + url, {\r\n            method: 'post',\r\n            body: fd\r\n            // 后端跨域不允许携带cookie？等到后端支持跨域携带cookie以后取消掉改注释\r\n            // credentials: \"include\"\r\n        })\r\n    }\r\n\r\n    checkJsonData (json) {\r\n        return json.status && json.status === 500\r\n    }\r\n\r\n    getJsonData (url, body) {\r\n        /**\r\n         * @namespace r.json\r\n         */\r\n        return this._fetchCheckToken('get', url, body).then(r => {\r\n            return r.json()\r\n        }).then(json => {\r\n            if (this.checkJsonData(json)) {\r\n                console.log('与后端交互出错', 'GET ' + url, body)\r\n            }\r\n            return json\r\n        })\r\n    }\r\n\r\n    getTextData (url, body) {\r\n        return this._fetchCheckToken('get', url, body).then(r => {\r\n            return r.text()\r\n        })\r\n    }\r\n\r\n    postJsonData (url, body) {\r\n        return this._fetchCheckToken('post', url, body).then(r => {\r\n            return r.json()\r\n        }).then(json => {\r\n            if (this.checkJsonData(json)) {\r\n                console.log('与后端交互出错', 'POST ' + url, body)\r\n            }\r\n            return json\r\n        })\r\n    }\r\n\r\n    postTextData (url, body) {\r\n        return this._fetchCheckToken('post', url, body).then(r => {\r\n            return r.text()\r\n        })\r\n    }\r\n}\r\n\r\nexport default HttpRequest\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/HttpRequest.js","\r\nfunction loading (httpRequest) {\r\n    return {\r\n        data: function () {\r\n            return {\r\n                loadState: false,\r\n                fetch: httpRequest\r\n            }\r\n        },\r\n        methods: {\r\n            showLoading () {\r\n                this.loadState = true\r\n            },\r\n            hiddenLoading () {\r\n                this.loadState = false\r\n            }\r\n        },\r\n        created () {\r\n            this.fetch.addFetchListen('before', this.showLoading)\r\n            this.fetch.addFetchListen('after', this.hiddenLoading)\r\n        },\r\n        beforeDestroy () {\r\n            this.fetch.removeFetchListen('before', this.showLoading)\r\n            this.fetch.removeFetchListen('after', this.hiddenLoading)\r\n        }\r\n    }\r\n}\r\n\r\nexport default loading\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/mixins/loading.js","/**\r\n * 这个混入模式太简单不写文档\r\n * @type {{methods: {updateData: (function(*))}}}\r\n */\r\n\r\nconst updateData = {\r\n    methods: {\r\n        updateData (e) {\r\n            console.log(e)\r\n            this[e.key] = e.value\r\n        }\r\n    }\r\n}\r\nexport default updateData\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/mixins/UpdateData.js"],"sourceRoot":""}